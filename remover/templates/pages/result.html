{% extends "layout/layout.html" %}

{% block title %}Hasil{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <h2 class="text-2xl font-bold mb-4 text-center dark:text-white">Background Removed</h2>
    <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
        <img src="{{ output_image }}" alt="Image with background removed" class="max-w-full h-auto mb-4" fetchpriority="high" />
        <div class="flex flex-col space-y-4">
            <div class="flex justify-between items-center">
                <select id="formatSelect"
                    class="bg-white border border-gray-300 rounded-md text-gray-700 py-2 px-4 pr-8 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    <option value="">Select format</option>
                    <option value="jpeg">JPEG</option>
                    <option value="jpg">JPG</option>
                    <option value="png">PNG</option>
                    <option value="webp">WebP</option>
                </select>
                <button onclick="downloadImage()"
                    class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                    Download Image
                </button>
            </div>
            <a href="{% url 'home' %}"
                class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline text-center">
                Remove Another Image
            </a>
        </div>
    </div>
</div>

<script>
    function downloadImage() {
        const format = document.getElementById('formatSelect').value;
        if (format) {
            window.location.href = "{% url 'download' format='placeholder' %}".replace('placeholder', format);
        } else {
            alert('Please select a format');
        }
    }
</script>
{% endblock %}